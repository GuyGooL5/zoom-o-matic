(this["webpackJsonpzoom-o-matic"]=this["webpackJsonpzoom-o-matic"]||[]).push([[0],{100:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(13),a=n.n(o),i=(n(100),n(7)),l=n(12),s=n(2),j={token:localStorage.getItem("token"),moodleUrl:localStorage.getItem("moodleUrl"),user:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}(),toolids:function(){var e=localStorage.getItem("toolids");return e?JSON.parse(e):null}()},u=function(e,t){var n=t.type,r=t.payload;switch(n){case"SET_TOKEN":return Object(l.a)(Object(l.a)({},e),{},{token:r});case"SET_USER":return Object(l.a)(Object(l.a)({},e),{},{user:r});case"SET_MD_URL":return Object(l.a)(Object(l.a)({},e),{},{moodleUrl:r});case"SET_TOOLIDS":return Object(l.a)(Object(l.a)({},e),{},{toolids:r});case"RESET_STORAGE":var c=Object(l.a)({},e);for(var o in c)c[o]=null;return c;default:return e}},d=Object(r.createContext)({}),b=function(e){var t=e.children,n=Object(r.useReducer)(u,j),c=Object(i.a)(n,2),o=c[0],a=c[1];return Object(s.jsx)(d.Provider,{value:[o,a],children:t})},O=function(){return Object(r.useContext)(d)},h=n(75),x=n(76),f=n.n(x).a.create({headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/plain, */*"}});function m(e){for(var t=Object.create(null),n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];for(var o=0,a=r;o<a.length;o++){var i=a[o];t[i]=e[i]}return t}var v=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t,r){var c=localStorage.getItem("token"),o=localStorage.getItem("moodleUrl");c&&o?f.post("".concat(o,"/webservice/rest/server.php?moodlewsrestformat=json&wsfunction=").concat(e),new URLSearchParams([["wsfunction",e],["wstoken",c]].concat(n)).toString()).then((function(e){var n=e.data;n?(null===n||void 0===n?void 0:n.errorcode)?r(n):t(n):r({errorcode:"jsonerror",error:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05ea \u05e7\u05d1\u05dc\u05ea \u05d4\u05de\u05d9\u05d3\u05e2 \u05de\u05d4\u05e9\u05e8\u05ea"})})):r({errorcode:"missingtoken",error:"\u05d8\u05d5\u05e7\u05df \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd"})}))},p=function(){return v("core_webservice_get_site_info").then((function(e){return m(e,"firstname","lastname","fullname","username","userid","userprivateaccesskey","userpictureurl")}))},g=function(e){return v("mod_lti_get_tool_launch_data",["toolid",e]).then((function(e){if(e.parameters){var t,n={},r=Object(h.a)(e.parameters);try{for(r.s();!(t=r.n()).done;){var c=t.value,o=c.name,a=c.value;n[o]=a}}catch(i){r.e(i)}finally{r.f()}return e.parameters=n,e}Promise.reject({errorcode:"missinglti",error:"missinglti"})}))},S=n(57),k=n.n(S),C=n(77),y=n(162),w=n(163),_=n(39),E=n(185),I=n(161),T=n(78),R=function(e){return function(t){return e?localStorage.setItem("token",e):localStorage.removeItem("token"),t({type:"SET_TOKEN",payload:e})}},F=function(e){return function(t){e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user"),t({type:"SET_USER",payload:e})}},L=function(e){return function(t){e?localStorage.setItem("moodleUrl",e):localStorage.removeItem("moodleUrl"),t({type:"SET_MD_URL",payload:e})}},U=n(155),P=n(158),D=n(159),A=n(160),N=c.a.createContext((function(e){})),W=function(e){var t,n=e.open,r=e.content,c=e.title,o=e.button,a=e.onClose;return Object(s.jsxs)(U.a,{dir:"rtl",open:n,onClose:a,children:[c?Object(s.jsx)(P.a,{children:c}):null,Object(s.jsx)(D.a,{children:r}),Object(s.jsx)(A.a,{children:Object(s.jsx)(I.a,Object(l.a)(Object(l.a)({variant:"text",color:"primary"},null===o||void 0===o?void 0:o.props),{},{onClick:function(e){var t;(null===o||void 0===o||null===(t=o.props)||void 0===t?void 0:t.onClick)&&o.props.onClick(e),a()},children:null!==(t=null===o||void 0===o?void 0:o.text)&&void 0!==t?t:"\u05d0\u05d5\u05e7\u05d9\u05d9"}))})]})},J=function(){return Object(r.useContext)(N)};function M(e){var t=e.children,n=Object(r.useState)(null),c=Object(i.a)(n,2),o=c[0],a=c[1];return Object(s.jsxs)(N.Provider,{value:a,children:[o?Object(s.jsx)(W,Object(l.a)(Object(l.a)({},o),{},{open:!!o,onClose:function(){o.onClose&&o.onClose(),a(null)}})):null,t]})}function q(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),a=Object(i.a)(o,2),l=a[0],j=a[1],u=O(),d=Object(i.a)(u,2)[1],b=J(),h=function(e){return new Promise((function(t){f.post(new URL(Object(T.join)(e,"/login/token.php")).toString(),{method:"POST"}).then((function(e){var n=e.status,r=e.data;200!==n&&t(!1),t(!!(null===r||void 0===r?void 0:r.errorcode))})).catch((function(){return t(!1)}))}))},x=function(){var e=Object(C.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.prev=2,r=n.startsWith("http://")||n.startsWith("https://")?new URL(n):new URL("https://".concat(n)),e.next=6,h(r.href);case 6:if(!e.sent){e.next=10;break}L(r.toString())(d),e.next=17;break;case 10:return e.next=12,h(r.origin);case 12:if(!e.sent){e.next=16;break}L(r.toString())(d),e.next=17;break;case 16:throw Error();case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),b({title:"\u05d0\u05ea\u05e8 \u05d4\u05de\u05d5\u05d3\u05dc \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0",content:"\u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8, \u05d0\u05e0\u05d0 \u05d5\u05d5\u05d3\u05d0\u05d5 \u05e9\u05d4\u05db\u05ea\u05d5\u05d1\u05ea \u05ea\u05e7\u05d9\u05e0\u05d4 \u05d0\u05d5 \u05e9\u05d4\u05d7\u05d9\u05d1\u05d5\u05e8 \u05ea\u05e7\u05d9\u05df"}),j(!1);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(y.a,{maxWidth:"sm",style:{marginTop:16},children:Object(s.jsx)("form",{children:Object(s.jsxs)(w.a,{container:!0,spacing:2,direction:"row-reverse",children:[Object(s.jsx)(w.a,{item:!0,xs:12,children:Object(s.jsx)(_.a,{variant:"h5",children:"\u05d0\u05e0\u05d9 \u05d4\u05db\u05e0\u05e1/\u05d9 \u05d0\u05ea \u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05d5\u05d3\u05dc \u05e9\u05dc \u05de\u05d5\u05e1\u05d3 \u05d4\u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd \u05e9\u05dc\u05da"})}),Object(s.jsx)(w.a,{item:!0,xs:12,children:Object(s.jsx)(E.a,{fullWidth:!0,label:"Moodle URL",required:!0,variant:"filled",value:n,onChange:function(e){return c(e.target.value)}})}),Object(s.jsx)(w.a,{item:!0,children:Object(s.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",disabled:!!l,onClick:x,children:"\u05e2\u05d3\u05db\u05d5\u05df"})})]})})})}var z=n(166),G=n(58),H=n(170),B=n(186),K=n(171),Z=n(167),Q=n(168),V=n(169),X=n(53),Y=n(187);function $(e){var t,n=e.open,r=e.onClose,c=e.persist,o=e.message,a=e.backgroundColor,i=e.textColor,j=e.duration,u=e.button,d=Object(X.a)(e,["open","onClose","persist","message","backgroundColor","textColor","duration","button"]),b=function(e,t){c&&"clickaway"===t||r&&r(e,t)},O=u?Object(s.jsx)(I.a,{style:{color:null!==(t=u.color)&&void 0!==t?t:"pink",marginRight:"auto",marginLeft:-8,paddingRight:-16},onClick:function(e){(null===u||void 0===u?void 0:u.eventHandler)&&(null===u||void 0===u||u.eventHandler(e)),b(e,"timeout")},children:u.text}):null;return Object(s.jsx)(Y.a,Object(l.a)(Object(l.a)({dir:"rtl",open:n,message:o,action:O,onClose:b,autoHideDuration:null!==j&&void 0!==j?j:3e3},d),{},{style:{backgroundColor:a,color:i}}))}var ee=c.a.createContext((function(e){})),te=function(){return Object(r.useContext)(ee)};function ne(e){var t=e.children,n=Object(r.useState)(!1),c=Object(i.a)(n,2),o=c[0],a=c[1],j=Object(r.useState)(null),u=Object(i.a)(j,2),d=u[0],b=u[1];Object(r.useEffect)((function(){return a(!!d)}),[d]);return Object(s.jsxs)(ee.Provider,{value:b,children:[t,d?Object(s.jsx)($,Object(l.a)(Object(l.a)({},d),{},{open:o,onClose:function(){a(!1),b(null)}}),+new Date):null]})}var re=function(){var e=te(),t=J(),n=O(),c=Object(i.a)(n,2)[1],o=Object(r.useCallback)((function(){t({title:"\u05e9\u05d2\u05d9\u05d0\u05ea \u05d7\u05d9\u05d1\u05d5\u05e8",content:Object(s.jsx)(_.a,{children:"\u05d8\u05d5\u05e7\u05df \u05d4\u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df \u05d0\u05d5 \u05e4\u05d2 \u05ea\u05d5\u05e7\u05e3, \u05d0\u05e0\u05d0 \u05d4\u05ea\u05d7\u05d1\u05e8/\u05d9 \u05de\u05d7\u05d3\u05e9."}),button:{text:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"},onClose:function(){L("https://md.hit.ac.il")(c),F(null)(c),R(null)(c)}})}),[t,c]);return{requestError:Object(r.useCallback)((function(t){switch(t){case"invalidtoken":o();break;case"invalidtoolid":e({message:"\u05d0\u05d7\u05ea \u05d0\u05d5 \u05d9\u05d5\u05ea\u05e8 \u05de\u05d4\u05e4\u05e2\u05d9\u05dc\u05d5\u05d9\u05d5\u05ea \u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05d5\u05ea \u05d0\u05d6 \u05d4\u05df \u05e0\u05de\u05d7\u05e7\u05d5",button:{text:"\u05d4\u05d1\u05e0\u05ea\u05d9"},persist:!0,duration:7e3});break;default:e({message:"\u05d0\u05d9\u05e8\u05e2\u05d4 \u05e9\u05d2\u05d9\u05d0\u05d4"})}}),[o,e])}};function ce(e){var t=e.url,n=Object(r.useState)(!1),c=Object(i.a)(n,2),o=c[0],a=c[1],j=Object(r.useState)(!1),u=Object(i.a)(j,2),d=u[0],b=u[1],h=Object(r.useState)({username:"",password:""}),x=Object(i.a)(h,2),m=x[0],v=x[1],g=Object(r.useState)(!1),S=Object(i.a)(g,2),k=S[0],C=S[1],T=O(),U=Object(i.a)(T,2),P=U[0],D=P.token,A=P.moodleUrl,N=U[1],W=re().requestError;Object(r.useEffect)((function(){D&&p().then((function(e){return F(e)(N)}))}),[N,D]);return Object(s.jsx)(y.a,{maxWidth:"sm",style:{marginTop:16},children:Object(s.jsx)("form",{children:Object(s.jsxs)(w.a,{container:!0,spacing:2,direction:"row-reverse",children:[Object(s.jsx)(w.a,{item:!0,xs:12,children:Object(s.jsx)(_.a,{variant:"h5",children:"\u05d0\u05e0\u05d0 \u05d4\u05ea\u05d7\u05d1\u05e8/\u05d9 \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05d4\u05de\u05d5\u05d3\u05dc \u05e9\u05dc\u05da"})}),Object(s.jsx)(w.a,{item:!0,xs:12,children:Object(s.jsx)(E.a,{fullWidth:!0,variant:"filled",label:"ID",name:"username",required:!0,onChange:function(e){return v(Object(l.a)(Object(l.a)({},m),{},{username:e.target.value}))}})}),Object(s.jsx)(w.a,{item:!0,xs:12,children:Object(s.jsx)(E.a,{fullWidth:!0,variant:"filled",label:"Password",name:"password",type:o?"text":"password",required:!0,onChange:function(e){return v(Object(l.a)(Object(l.a)({},m),{},{password:e.target.value}))},InputProps:{endAdornment:Object(s.jsx)(z.a,{onClick:function(){return a(!o)},children:o?Object(s.jsx)(Z.a,{}):Object(s.jsx)(Q.a,{})})}})}),Object(s.jsx)(w.a,{item:!0,xs:12,children:Object(s.jsx)(G.a,{variant:"outlined",style:{paddingLeft:8,paddingRight:8},children:Object(s.jsxs)(w.a,{container:!0,spacing:1,justify:"space-between",alignItems:"center",children:[Object(s.jsx)(w.a,{item:!0,children:Object(s.jsx)(z.a,{color:"primary",onClick:function(){return L(null)(N)},children:Object(s.jsx)(V.a,{})})}),Object(s.jsx)(w.a,{item:!0,children:Object(s.jsxs)(_.a,{variant:"body1",color:"textSecondary",children:[Object(s.jsx)(H.a,{target:"_blank",href:A,children:A})," :\u05d0\u05ea\u05e8 \u05d4\u05de\u05d5\u05d3\u05dc"]})})]})})}),Object(s.jsxs)(w.a,{item:!0,container:!0,xs:12,direction:"row-reverse",alignItems:"center",children:[Object(s.jsxs)(_.a,{variant:"body2",children:["\u05d0\u05e0\u05d9 \u05de\u05d0\u05e9\u05e8/\u05ea \u05d0\u05ea ",Object(s.jsx)(H.a,{target:"_blank",href:"/license.txt",children:"\u05ea\u05e0\u05d0\u05d9 \u05d4\u05e9\u05d9\u05de\u05d5\u05e9"})]}),Object(s.jsx)(B.a,{checked:d,onClick:function(){return b(!d)}})]}),Object(s.jsx)(w.a,{item:!0,children:Object(s.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),C(!0),f.post("".concat(t,"/login/token.php"),"username=".concat(m.username,"&password=").concat(m.password,"&service=moodle_mobile_app")).then((function(e){var t=e.data;t.errorcode||!t.token?W(t):R(t.token)(N)})).catch((function(e){W(e)})).finally((function(){return C(!1)}))},disabled:!d||k,startIcon:k?Object(s.jsx)(K.a,{size:24}):null,children:"\u05db\u05e0\u05d9\u05e1\u05d4"})})]})})})}function oe(){var e=O(),t=Object(i.a)(e,2),n=t[0],c=n.moodleUrl,o=n.token,a=t[1];return Object(r.useEffect)((function(){o&&p().then((function(e){return F(e)(a)}))}),[a,o]),c?Object(s.jsx)(ce,{url:c}):Object(s.jsx)(q,{})}var ae=n(21),ie=n(181),le=n(177),se=n(165),je=n(172),ue=n(173);function de(e){var t=e.onSelectCourse,n=Object(r.useState)([]),c=Object(i.a)(n,2),o=c[0],a=c[1],l=re().requestError;return Object(r.useEffect)((function(){o.length||function(){var e,t=JSON.parse(null!==(e=localStorage.getItem("user"))&&void 0!==e?e:"");return(null===t||void 0===t?void 0:t.userid)?v("core_enrol_get_users_courses",["userid",t.userid]).then((function(e){return e.map((function(e){return m(e,"id","idnumber","fullname","shortname","displayname")}))})):Promise.reject({errorcode:"nouser",error:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e4\u05e8\u05d8\u05d9 \u05d4\u05de\u05e9\u05ea\u05de\u05e9, \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e9\u05d5\u05d1"})}().then((function(e){return a(e)})).catch(l)}),[o,l]),o.length?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(se.a,{children:o.map((function(e,n){return Object(s.jsx)(je.a,{button:!0,onClick:function(){return t(e)},children:Object(s.jsx)(ue.a,{style:{textAlign:"right"},children:e.fullname})},n)}))})}):Object(s.jsx)(K.a,{size:64})}var be=n(84);function Oe(e){var t=e.toolid,n=e.onSelect,c=Object(r.useState)(null),o=Object(i.a)(c,2),a=o[0],l=o[1],j=Object(r.useState)(!1),u=Object(i.a)(j,2),d=u[0],b=u[1];return Object(r.useEffect)((function(){g(t).then(l).catch().finally((function(){return b(!0)}))}),[t]),Object(s.jsx)(je.a,{button:!0,disabled:d&&!a,onClick:function(){return a?n(a):null},children:Object(s.jsx)(ue.a,{style:{textAlign:"right"},children:d?a?a.parameters.resource_link_title:"\u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05ea":Object(s.jsx)(K.a,{})})})}function he(e){var t=e.onFinish,n=e.selectedToolids,c=O(),o=Object(i.a)(c,2),a=o[0].toolids,l=o[1],j=te(),u=Object(r.useCallback)((function(e){console.log(e);var n=e.parameters.resource_link_id;if(null===a||void 0===a?void 0:a.includes(n))return j({message:"\u05d4\u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05de\u05ea",duration:5e3});!function(e){return function(t){localStorage.setItem("toolids",JSON.stringify(e)),t({type:"SET_TOOLIDS",payload:e})}}([e.parameters.resource_link_id].concat(Object(be.a)(null!==a&&void 0!==a?a:[])))(l),t()}),[l,t,j,a]);return Object(s.jsx)(se.a,{children:0===n.length?Object(s.jsx)(_.a,{children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e4\u05e2\u05d9\u05dc\u05d5\u05d9\u05d5\u05ea \u05d1\u05e7\u05d5\u05e8\u05e1"}):n.map((function(e,t){return Object(s.jsx)(Oe,{toolid:e,onSelect:u},t)}))})}function xe(e){var t=e.onFinish,n=e.selectedCourse,c=Object(r.useState)([]),o=Object(i.a)(c,2),a=o[0],l=o[1],j=re().requestError;return Object(r.useEffect)((function(){var e;(null===n||void 0===n?void 0:n.id)&&(e=n.id,v("mod_lti_get_ltis_by_courses",["courseids[0]",e]).then((function(e){var t=e.ltis;if(t)return t.map((function(e){return e.id}));Promise.reject({errorcode:"missingtoolid",error:"missing toolid error"})}))).then(l).catch(j)}),[j,n]),Object(s.jsx)(se.a,{children:a&&n?Object(s.jsx)(he,{course:n,selectedToolids:a,onFinish:t}):Object(s.jsx)(K.a,{})})}var fe=function(e){var t=e.onClose,n=Object(X.a)(e,["onClose"]),c=Object(r.useState)(0),o=Object(i.a)(c,2),a=o[0],j=o[1],u=Object(r.useState)("\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8/\u05d9 \u05e7\u05d5\u05e8\u05e1"),d=Object(i.a)(u,2),b=d[0],O=d[1],h=Object(r.useState)(null),x=Object(i.a)(h,2),f=x[0],m=x[1],v=Object(ae.a)();var p=[Object(s.jsx)(de,{onSelectCourse:function(e){var t;m(e),j(1),O("\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8/\u05d9 \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05d1\u05e7\u05d5\u05e8\u05e1 ".concat(null!==(t=e.fullname)&&void 0!==t?t:""))}}),Object(s.jsx)(xe,{selectedCourse:f,onFinish:t})];return Object(s.jsxs)(U.a,Object(l.a)(Object(l.a)({dir:"rtl",onExited:function(){O("\u05d0\u05e0\u05d0 \u05d1\u05d7\u05e8/\u05d9 \u05e7\u05d5\u05e8\u05e1"),j(0),m(null)},maxWidth:"md",onClose:t},n),{},{children:[Object(s.jsx)(P.a,{children:Object(s.jsx)(_.a,{variant:"h5",children:b})}),Object(s.jsx)(D.a,{style:{maxWidth:v.breakpoints.width("sm")},children:p[a]}),Object(s.jsx)(A.a,{dir:"rtl",children:Object(s.jsx)(I.a,{variant:"outlined",style:{color:"red"},onClick:t,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})})]}))},me=n(174),ve=n(176),pe=n(175);function ge(e){var t=e.toolid,n=e.editMode,c=e.onSelect,o=e.onDelete,a=Object(r.useState)(null),l=Object(i.a)(a,2),j=l[0],u=l[1],d=re().requestError,b=O(),h=Object(i.a)(b,2)[1],x=Object(r.useCallback)((function(){!function(e){return function(t){var n,r=JSON.parse(null!==(n=localStorage.getItem("toolids"))&&void 0!==n?n:"[]").filter((function(t){return t!==e}));localStorage.setItem("toolids",JSON.stringify(r)),t({type:"SET_TOOLIDS",payload:r})}}(t)(h),o()}),[h,o,t]);return Object(r.useEffect)((function(){g(t).then(u).catch((function(e){"invalidtoken"===(null===e||void 0===e?void 0:e.errorcode)?d("invalidtoken"):d("invalidtoolid"),x()}))}),[x,d,t]),Object(s.jsx)(je.a,{button:!0,children:j?Object(s.jsxs)(s.Fragment,{children:[n?Object(s.jsx)(me.a,{children:Object(s.jsx)(z.a,{onClick:x,children:Object(s.jsx)(pe.a,{})})}):null,Object(s.jsxs)(ue.a,{style:{textAlign:"right"},onClick:function(){return c(j)},children:[Object(s.jsx)(_.a,{variant:"h6",children:j.parameters.context_title}),Object(s.jsx)(_.a,{variant:"body2",children:j.parameters.resource_link_title})]})]}):Object(s.jsx)(K.a,{})})}function Se(e){var t=e.editMode,n=e.onFinishedEditing,c=e.toolids,o=e.onSelectLti,a=Object(r.useMemo)((function(){return 0!==c.length?c.map((function(e,r){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ge,{toolid:e,editMode:t,onDelete:n,onSelect:o},e),r<c.length-1?Object(s.jsx)(ve.a,{}):null]})})):Object(s.jsxs)(w.a,{container:!0,direction:"row-reverse",alignItems:"center",children:[Object(s.jsx)(w.a,{item:!0,children:Object(s.jsx)(_.a,{variant:"h5",children:"\u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05e4\u05e2\u05d9\u05dc\u05d5\u05d9\u05d5\u05ea \u05e8\u05d9\u05e7\u05d4, \u05dc\u05d4\u05d5\u05e1\u05e4\u05d4 \u05dc\u05d7\u05e5"})}),Object(s.jsx)(w.a,{item:!0,children:Object(s.jsx)(le.a,{})})]})}),[t,n,o,c]);return Object(s.jsx)(se.a,{children:a})}var ke=n(127),Ce=n(178),ye=n(179),we=n(180);function _e(e){var t=e.lti,n=Object(r.useRef)(null),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;null===(e=c.current)||void 0===e||e.submit()}),[t]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("iframe",{src:"about:blank",ref:n,name:"zoomframe",style:{height:"100%"},title:t.parameters.context_title}),Object(s.jsx)("form",{style:{display:"none"},ref:c,target:"zoomframe",action:t.endpoint,method:"post",encType:"application/x-www-form-urlencoded",children:Object.entries(t.parameters).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(s.jsx)("input",{name:n,value:r},n)}))})]})}var Ee=Object(r.forwardRef)((function(e,t){return Object(s.jsx)(ke.a,Object(l.a)({direction:"up",ref:t},e))}));function Ie(e){var t=e.open,n=e.lti,r=e.onCloseDialog;return Object(s.jsx)(U.a,{dir:"rtl",open:t,fullScreen:!0,TransitionComponent:Ee,children:n?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ce.a,{position:"static",children:Object(s.jsxs)(ye.a,{children:[Object(s.jsx)(z.a,{edge:"start",color:"inherit",onClick:r,children:Object(s.jsx)(we.a,{})}),Object(s.jsx)(_.a,{variant:"h6",children:n.parameters.context_title})]})}),Object(s.jsx)(_e,{lti:n})]}):Object(s.jsx)(K.a,{})})}function Te(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),a=Object(i.a)(o,2),l=a[0],j=a[1],u=Object(ae.a)(),d=Object(ie.a)(u.breakpoints.down("xs")),b=Object(r.useState)(!1),h=Object(i.a)(b,2),x=h[0],f=h[1],m=Object(r.useState)(!1),v=Object(i.a)(m,2),p=v[0],g=v[1],S=O(),k=Object(i.a)(S,1)[0].toolids;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{maxWidth:"md",style:{marginTop:16,height:"100vh"},children:Object(s.jsxs)(w.a,{container:!0,direction:"row",children:[Object(s.jsxs)(w.a,{item:!0,container:!0,direction:"row-reverse",xs:12,spacing:2,alignItems:"center",justify:"space-between",children:[Object(s.jsx)(w.a,{item:!0,xs:12,sm:4,children:Object(s.jsx)(_.a,{variant:"h4",style:{textAlign:d?"center":"right"},children:"\u05d3\u05e3 \u05e4\u05e2\u05d9\u05dc\u05d5\u05d9\u05d5\u05ea"})}),Object(s.jsxs)(w.a,{item:!0,xs:12,sm:8,container:!0,spacing:2,children:[Object(s.jsx)(w.a,{item:!0,children:Object(s.jsx)(I.a,{startIcon:Object(s.jsx)(le.a,{}),variant:"contained",color:"secondary",onClick:function(){j(!1),g(!0)},children:"\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea"})}),(null===k||void 0===k?void 0:k.length)?Object(s.jsx)(w.a,{item:!0,children:Object(s.jsx)(I.a,{color:"default",onClick:function(){return j((function(e){return!e}))},children:l?"\u05d1\u05d8\u05dc \u05e2\u05e8\u05d9\u05db\u05d4":"\u05e2\u05e8\u05d9\u05db\u05d4"})}):null]})]}),Object(s.jsx)(w.a,{item:!0,xs:12,children:k?Object(s.jsx)(Se,{editMode:l,onFinishedEditing:function(){return j(!1)},toolids:k,onSelectLti:function(e){f(!0),c(e)}}):null})]})}),Object(s.jsx)(Ie,{open:x,lti:n,onCloseDialog:function(){f(!1)}}),Object(s.jsx)(fe,{fullScreen:d,open:p,onClose:function(){g(!1)}})]})}var Re=n(184),Fe=n(182),Le=n(183);function Ue(e){var t=e.icon,n=e.label,r=e.onClick;return Object(s.jsxs)(je.a,{button:!0,onClick:r,children:[Object(s.jsx)(me.a,{children:t}),Object(s.jsx)(ue.a,{primary:n})]})}function Pe(e){var t=e.open,n=e.onClose,r=O(),c=Object(i.a)(r,2)[1],o=te(),a=J();return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(Fe.a,{anchor:"left",open:t,onClose:n,PaperProps:{style:{width:256}},children:Object(s.jsxs)(se.a,{children:[Object(s.jsx)(Ue,{icon:Object(s.jsx)(Le.a,{}),label:"\u05d0\u05d5\u05d3\u05d5\u05ea",onClick:function(){a({title:"\u05d0\u05d5\u05d3\u05d5\u05ea",content:Object(s.jsxs)(_.a,{children:['\u05d0\u05ea\u05e8 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05e4\u05e8\u05d5\u05d9\u05d9\u05e7\u05d8 \u05d1\u05e9\u05dc\u05d1\u05d9\u05dd \u05e8\u05d0\u05e9\u05d5\u05e0\u05d9\u05d9\u05dd \u05db\u05d3\u05d9 \u05dc\u05d4\u05e7\u05dc \u05e2\u05dc \u05d7\u05d9\u05d9 \u05d4\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8\u05d9\u05dd \u05d1\u05e2\u05d9\u05d3\u05df \u05d4\u05d6\u05d5\u05dd \u05d5\u05d4\u05de\u05d5\u05d3\u05dc. \u05e0\u05d1\u05e0\u05d4 \u05e2"\u05d9 \u05d2\u05d9\u05d0 \u05e6\u05d9\u05e6\u05d9\u05d0\u05e9\u05d5\u05d9\u05dc\u05d9.',Object(s.jsx)("br",{}),Object(s.jsx)(H.a,{target:"_blank",href:"https://github.com/GuyGooL5/zoom-o-matic",children:"\u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05e4\u05e8\u05d5\u05d9\u05e7\u05d8 \u05d1\u05d2\u05d9\u05d8"}),Object(s.jsx)("br",{}),Object(s.jsx)(H.a,{href:"/license.txt",children:"\u05ea\u05e0\u05d0\u05d9 \u05d4\u05e9\u05d9\u05de\u05d5\u05e9"})]}),button:{text:"\u05e1\u05d2\u05d5\u05e8"}})}}),Object(s.jsx)(Ue,{icon:Object(s.jsx)(we.a,{}),label:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea",onClick:function(){var e;e=c,localStorage.clear(),e({type:"RESET_STORAGE",payload:!0}),o({message:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05ea \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",duration:5e3}),n()}})]})})})}function De(){var e=O(),t=Object(i.a)(e,1)[0].user,n=Object(r.useState)(!1),c=Object(i.a)(n,2),o=c[0],a=c[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ce.a,{position:"fixed",children:Object(s.jsxs)(ye.a,{children:[Object(s.jsx)(z.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return a(!0)},children:Object(s.jsx)(Re.a,{})}),Object(s.jsx)(_.a,{variant:"h6",style:{flexGrow:1},children:"Zoom-o-matic!"}),(null===t||void 0===t?void 0:t.fullname)?Object(s.jsx)(_.a,{variant:"body1",style:{marginRight:16},children:"\u05d4\u05d9\u05d9 ".concat(t.fullname)}):null]})}),Object(s.jsx)(ye.a,{}),Object(s.jsx)(Pe,{open:o,onClose:function(){return a(!1)}})]})}function Ae(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(De,{}),Object(s.jsx)(Te,{})]})}function Ne(){var e=O(),t=Object(i.a)(e,1)[0],n=t.token,r=t.user;return n&&r?Object(s.jsx)(Ae,{}):Object(s.jsx)(oe,{})}function We(){return Object(s.jsx)("div",{className:"App",style:{margin:0,padding:0},children:Object(s.jsx)(b,{children:Object(s.jsx)(ne,{children:Object(s.jsx)(M,{children:Object(s.jsx)(Ne,{})})})})})}var Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,188)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(We,{})}),document.getElementById("root")),Je()}},[[125,1,2]]]);
//# sourceMappingURL=main.fa5617b1.chunk.js.map